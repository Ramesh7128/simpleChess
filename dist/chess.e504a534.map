{"version":3,"sources":["chess.js"],"names":["columns","rows","INIT_WHITE","D1","INIT_BLACK","D8","currentMover","selectedPiece","cells","assignPiece","row","col","id","Piece","forEach","i","j","cell","color","piece","findPossibleKnightPos","obj","potentialPos","indexOfObjCol","indexOf","potentialColumns","index","Math","abs","push","findPossiblePawnPos","possiblePositions","length","console","log","findPossibleRooksPos","r","c","findPossibleBishopPos","calculateValidity","name","timesMoved","move","pos","currentPos","includes","nextPos","split","renderGame","htmlString","pieceInfo","root","document","getElementById","innerHTML","allCells","querySelectorAll","addEventListener"],"mappings":"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","file":"chess.e504a534.map","sourceRoot":"..","sourcesContent":["// create the board\n//  - 8 * 8 grid \n//  - alternate black and white cells\n//      - starts with white\n//  - Cell\n//    - color\n//    - id\n//    - piece?\n//  - Each square has an id\n// - Arrangement of the board\n//  \n// create a chess object\n//  - unique chess piece keys\n// Pieces\n//  - currentPos (rows, cols)\n//  - possiblePos\n//  - name\n//  - color\n//  - uniqueMoveLogic??\n//  - move - func\n// Conditions\n//  - kill\n//  - Check\n//    - checkmate\n//  - castling\n\nvar columns = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];\nvar rows = [1, 2, 3, 4, 5, 6, 7, 8];\n\nvar INIT_WHITE = {\n  'A1': 'rook', 'B1': 'knight', 'C1': 'bishop', D1: 'king', 'E1': 'queen', 'F1': 'bishop', 'G1': 'knight', 'H1': 'rook',\n  'A2': 'pawn', 'B2': 'pawn', 'C2': 'pawn', 'D2': 'pawn', 'E2': 'pawn', 'F2': 'pawn', 'G2': 'pawn', 'H2': 'pawn',\n}\n\nvar INIT_BLACK = {\n  'A8': 'rook', 'B8': 'knight', 'C8': 'bishop', D8: 'queen', 'E8': 'king', 'F8': 'bishop', 'G8': 'knight', 'H8': 'rook',\n  'A7': 'pawn', 'B7': 'pawn', 'C7': 'pawn', 'D7': 'pawn', 'E7': 'pawn', 'F7': 'pawn', 'G7': 'pawn', 'H7': 'pawn',\n}\n\nvar currentMover = 'white';\n\nvar selectedPiece;\n\nvar cells = {}; // Store of truth \n\nfunction assignPiece(row, col) {\n  var id = col+row;\n\n  if(INIT_WHITE[id]) {\n    return new Piece(INIT_WHITE[id], 'white', row, col)\n  } else if(INIT_BLACK[id]) {\n    return new Piece(INIT_BLACK[id], 'black', row, col)\n  } else {\n    return null;\n  }\n}\n\nrows.forEach((row, i) => {\n  columns.forEach((col, j) => {\n\n    var cell = {\n      color: (i+j) % 2 == 0 ? 'white' : 'black',\n      row: row,\n      col: col,\n      piece: assignPiece(row, col)\n    }\n\n    cells[col+row] = cell;\n  })\n});\n\n// 2 col, 1 row\n// 2 row, 1 col\nfunction findPossibleKnightPos(obj) { // 'A4'\n\n  var potentialPos = [];\n\n  var indexOfObjCol =  columns.indexOf(obj.col);\n\n  var potentialColumns = [];\n\n  columns.forEach((col, index) => {\n    if(Math.abs(index - indexOfObjCol) <= 2 && Math.abs(index - indexOfObjCol) !== 0) {\n      potentialColumns.push(col);\n    }\n  });\n\n  potentialColumns.forEach((col, index) => {\n    if(Math.abs(columns.indexOf(col) - indexOfObjCol) == 2) {\n      (rows.indexOf(obj.row-1) !== -1) ? potentialPos.push(col + (obj.row-1)) : null;\n      (rows.indexOf(obj.row+1) !== -1) ? potentialPos.push(col + (obj.row+1)) : null;\n    } else {\n      (rows.indexOf(obj.row-2) !== -1) ? potentialPos.push(col + (obj.row-2)) : null;\n      (rows.indexOf(obj.row+2) !== -1) ? potentialPos.push(col + (obj.row+2)) : null;\n    }\n  });\n\n  return potentialPos;\n}\n\nfunction findPossiblePawnPos() {\n  const {row, col} = selectedPiece;\n  const possiblePositions = [];\n  if (currentMover=='white') {\n    if (row ==2) {\n      possiblePositions.push(`${col}${row+2}`);  \n    }\n    possiblePositions.push(`${col}${row+1}`);\n    if ((columns.indexOf(col) - 1) > 0) {\n      possiblePositions.push(`${columns[columns.indexOf(col) - 1]}${row+1}`);\n    }\n    if ((columns.indexOf(col) + 1) < columns.length) {\n      possiblePositions.push(`${columns[columns.indexOf(col) + 1]}${row+1}`);\n    }\n    console.log(possiblePositions, \"possible positions\");\n  } else {\n    if (row ==7) {\n      possiblePositions.push(`${col}${row-2}`);  \n    }\n    possiblePositions.push(`${col}${row-1}`);\n    if ((columns.indexOf(col) - 1) > 0) {\n      possiblePositions.push(`${columns[columns.indexOf(col) - 1]}${row-1}`);\n    }\n    if ((columns.indexOf(col) + 1) < columns.length) {\n      possiblePositions.push(`${columns[columns.indexOf(col) + 1]}${row-1}`);\n    }\n    console.log(possiblePositions, \"possible positions\");\n  }\n  selectedPiece.possiblePositions = [...possiblePositions];\n}\n\nfunction findPossibleRooksPos() {\n  const {row, col} = selectedPiece;\n  possiblePositions = [];\n  for(let r of rows) {\n    if (r !=row) {\n      possiblePositions.push(`${col}${r}`);\n    }\n  }\n  for(let c of columns) {\n    if (c !==col) {\n      possiblePositions.push(`${c}${row}`);\n    }\n  }\n  selectedPiece.possiblePositions = [...possiblePositions];\n}\n\n\nfunction findPossibleBishopPos() {\n  console.log()\n  // const {row, col} = selectedPiece;\n  // const possiblePositions = [];\n  // let new_row = row, new_col = col;\n\n  // console.log('bishop called');\n  // while(true) {\n  //   // new_row != 1 || new_row != 8 || new_col !='A' || new_col !='H'\n  //   if (new_row != 1 || new_row != 8 || new_col !='A' || new_col !='H') {\n  //     new_col = columns[columns.indexOf(new_col)+1];\n  //     new_row -= 1;\n  //     possiblePositions.push(`${new_col}${new_row}`);\n  //   } else {\n  //     break;\n  //   }\n  // }\n  // console.log(possiblePositions);\n  return;\n}\n\n\nfunction calculateValidity() {\n  switch (selectedPiece.name) {\n    case \"pawn\":\n      findPossiblePawnPos();\n      break;\n    case \"rook\":\n      findPossibleRooksPos();\n      break;\n    // case \"bishop\": findPossibleBishopPos()\n    //   break;\n  }\n}\n\n\n\nfunction Piece(name, color, row, col) {\n  this.name = name;\n  this.color = color;\n  this.row = row;\n  this.col = col;\n  this.timesMoved = 0;\n  this.possiblePositions = [];\n  // position - A1\n  // check for validity of move\n  // move.\n  this.move = function(pos) {\n    \n    // TODO:check the validity of move.\n    calculateValidity();\n    console.log('Check');\n    var currentPos = this.col + this.row;\n    if (selectedPiece.possiblePositions.includes(pos)) {\n      console.log(\"inside condition0\");\n      var nextPos = pos;\n  \n      this.col = nextPos.split('')[0];\n      this.row = nextPos.split('')[1];\n  \n      console.log('I am supposed to move to ', nextPos, 'and my current pos is', currentPos);\n  \n      // empty the .piece property on the cell object\n      cells[currentPos].piece = null;\n      // set an new .piece prop on the nextPos cell obj\n      // kill logic\n      cells[nextPos].piece = this;\n      \n      // flip the currentMover\n      currentMover = this.color == 'white' ? 'black' : 'white';\n      selectedPiece = null;\n  \n      ++this.timesMoved;\n      renderGame();\n    }\n    else {\n      return;\n    }\n  }\n}\n\nfunction renderGame() {\n  var htmlString = '';\n  for(var cell in cells) {\n    var pieceInfo = cells[cell].piece ? cells[cell].piece.color + '-' + cells[cell].piece.name : '';\n    htmlString += `<div id=\"${cell}\" class=\"${cells[cell].color} cell\" data-piece=\"${pieceInfo}\"></div>`;\n  }\n\n  var root = document.getElementById('chess-board');\n  root.innerHTML = htmlString;\n\n  //addEventListeners\n  var allCells = document.querySelectorAll('.cell');\n\n  allCells.forEach((cell, index) => {\n    cell.addEventListener('click', () => {\n\n      if(cells[cell.id].piece && (cells[cell.id].piece.color == currentMover)) {\n        selectedPiece = cells[cell.id].piece;\n        console.log(selectedPiece);\n        return;\n      }\n\n      if(selectedPiece) {\n        selectedPiece.move(cell.id);\n      }\n\n    });\n  })\n}\n\nrenderGame();\n"]}